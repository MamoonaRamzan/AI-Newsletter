<!DOCTYPE html><html
lang=en-US><head><meta
charset="UTF-8"><title>
Working with Contexts – O’Reilly</title><meta
name='robots' content='max-image-preview:large'><style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style> <script>/*<![CDATA[*/window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.oreilly.com\/radar\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.2"}};
/*! This file is auto-generated */
!function(s,n){var o,i,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),a=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===a[t]})}function u(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);for(var n=e.getImageData(16,16,1,1),a=0;a<n.data.length;a++)if(0!==n.data[a])return!1;return!0}function f(e,t,n,a){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\udde8\ud83c\uddf6","\ud83c\udde8\u200b\ud83c\uddf6")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!a(e,"\ud83e\udedf")}return!1}function g(e,t,n,a){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):s.createElement("canvas"),o=r.getContext("2d",{willReadFrequently:!0}),i=(o.textBaseline="top",o.font="600 32px Arial",{});return e.forEach(function(e){i[e]=t(o,e,n,a)}),i}function t(e){var t=s.createElement("script");t.src=e,t.defer=!0,s.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",i=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){s.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+g.toString()+"("+[JSON.stringify(i),f.toString(),p.toString(),u.toString()].join(",")+"));",a=new Blob([e],{type:"text/javascript"}),r=new Worker(URL.createObjectURL(a),{name:"wpTestEmojiSupports"});return void(r.onmessage=function(e){c(n=e.data),r.terminate(),t(n)})}catch(e){}c(n=g(i,f,p,u))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);/*]]>*/</script> <style id=wp-emoji-styles-inline-css>img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style><link
rel=stylesheet href=https://www.oreilly.com/radar/wp-content/cache/minify/3/a5ff7.css media=all><style id=classic-theme-styles-inline-css>/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style><style id=global-styles-inline-css>/*<![CDATA[*/:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}/*]]>*/</style><link
rel=stylesheet href=https://www.oreilly.com/radar/wp-content/cache/minify/3/669c0.css media=all> <script src=https://www.oreilly.com/radar/wp-content/cache/minify/3/818c0.js></script> <link
rel=canonical href=https://www.oreilly.com/radar/working-with-contexts/ ><link
rel=shortlink href='https://www.oreilly.com/radar/?p=17373'><link
rel=alternate type=application/rss+xml title="Podcast RSS feed" href=https://www.oreilly.com/radar/feed/podcast><link
rel=icon href=https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/04/cropped-favicon_512x512-160x160.png sizes=32x32><link
rel=icon href=https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/04/cropped-favicon_512x512-300x300.png sizes=192x192><link
rel=apple-touch-icon href=https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/04/cropped-favicon_512x512-300x300.png><meta
name="msapplication-TileImage" content="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/04/cropped-favicon_512x512-300x300.png"><meta
http-equiv="X-UA-Compatible" content="IE=edge"><meta
name="viewport" content="width=device-width, initial-scale=1"><meta
name="language_name" content="English"><meta
name="native_language_name" content="English"><meta
name="format-detection" content="telephone=no"><link
rel=icon type=image/png href=//www.oreilly.com/favicon.ico><!--[if lte IE 9]> <script>'article aside footer header main nav section time'.replace(/\w+/g,function(n){document.createElement(n)})</script> <![endif]--><!--[if IE 9]><style>#menu-toggle:checked ~ .mobile-nav { display:block; }
  .mobile-nav { display: none; }</style><![endif]--><meta
property="twitter:card" content="summary_large_image"><meta
property="twitter:site" content="@OReillyMedia"><meta
property="twitter:title" content="Working with Contexts"><meta
property="twitter:description" content="The following article comes from two blog posts by Drew Breunig: “How Long Contexts Fail” and “How to Fix Your Contexts.”Managing Your Context is the Key"><meta
property="twitter:url" content="https://www.oreilly.com/radar/working-with-contexts"><meta
property="twitter:image" content="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Abstract-colors-3-1600x1244.jpg"><meta
property="og:type" content="article"><meta
property="og:site_name" content="O’Reilly Media"><meta
property="og:title" content="Working with Contexts"><meta
property="og:description" content="The following article comes from two blog posts by Drew Breunig: “How Long Contexts Fail” and “How to Fix Your Contexts.”Managing Your Context is the Key"><meta
property="og:url" content="https://www.oreilly.com/radar/working-with-contexts/"><meta
property="og:image" content="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Abstract-colors-3-1600x1244.jpg"><meta
name="description" content="The following article comes from two blog posts by Drew Breunig: “How Long Contexts Fail” and “How to Fix Your Contexts.”Managing Your Context is the Key"><meta
name="author" content="Drew Breunig"><meta
name="description:site" content="The following article comes from two blog posts by Drew Breunig: “How Long Contexts Fail” and “How to Fix Your Contexts.”Managing Your Context is the Key"><meta
property="article:published_time" content="2025-08-28T10:02:43+00:00"><meta
name="article:author" content="Drew Breunig"><meta
name="date" content="2025-08-28"><meta
name="thumbnail" content="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Abstract-colors-3-1600x1244.jpg"><meta
name="graphic_medium" content="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Abstract-colors-3-1600x1244.jpg"><meta
name="oreilly:content_type" content="text"> <script>loggedInObject = new Object();
  var dataLayer = window.dataLayer || [];

  //Check for O'Reilly Unified logged-in status
  if (document.cookie.split(';').filter(function(item) {
    return item.indexOf('orm-jwt=') >= 0;
  }).length) {
    loggedInObject.loggedIn = 'yes';
    dataLayer.push(loggedInObject);
  }</script> <script>dataLayer = [{"content.author":"Drew Breunig","content.formatType":"article","content.free":"yes","content.identifier":"none","content.parentTopic":"AI & ML","content.publisher":"O'Reilly Media Inc.","content.releaseDate":"2025-08-28","content.subTopic":"none","content.subdirectory":"radar","content.title":"Working with Contexts","product.identifier":"none","product.title":"none","product.type":"none"}];</script>  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P4V6Z');</script> <link
rel=preconnect href=https://dev.visualwebsiteoptimizer.com> <script id=vwoCode>window._vwo_code || (function() {
var account_id=27087,
version=2.1,
settings_tolerance=2000,
hide_element='body',
hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important',
/* DO NOT EDIT BELOW THIS LINE */
f=false,w=window,d=document,v=d.querySelector('#vwoCode'),cK='_vwo_'+account_id+'_settings',cc={};try{var c=JSON.parse(localStorage.getItem('_vwo_'+account_id+'_config'));cc=c&&typeof c==='object'?c:{}}catch(e){}var stT=cc.stT==='session'?w.sessionStorage:w.localStorage;code={use_existing_jquery:function(){return typeof use_existing_jquery!=='undefined'?use_existing_jquery:undefined},library_tolerance:function(){return typeof library_tolerance!=='undefined'?library_tolerance:undefined},settings_tolerance:function(){return cc.sT||settings_tolerance},hide_element_style:function(){return'{'+(cc.hES||hide_element_style)+'}'},hide_element:function(){if(performance.getEntriesByName('first-contentful-paint')[0]){return''}return typeof cc.hE==='string'?cc.hE:hide_element},getVersion:function(){return version},finish:function(e){if(!f){f=true;var t=d.getElementById('_vis_opt_path_hides');if(t)t.parentNode.removeChild(t);if(e)(new Image).src='https://dev.visualwebsiteoptimizer.com/ee.gif?a='+account_id+e}},finished:function(){return f},addScript:function(e){var t=d.createElement('script');t.type='text/javascript';if(e.src){t.src=e.src}else{t.text=e.text}d.getElementsByTagName('head')[0].appendChild(t)},load:function(e,t){var i=this.getSettings(),n=d.createElement('script'),r=this;t=t||{};if(i){n.textContent=i;d.getElementsByTagName('head')[0].appendChild(n);if(!w.VWO||VWO.caE){stT.removeItem(cK);r.load(e)}}else{var o=new XMLHttpRequest;o.open('GET',e,true);o.withCredentials=!t.dSC;o.responseType=t.responseType||'text';o.onload=function(){if(t.onloadCb){return t.onloadCb(o,e)}if(o.status===200){_vwo_code.addScript({text:o.responseText})}else{_vwo_code.finish('&e=loading_failure:'+e)}};o.onerror=function(){if(t.onerrorCb){return t.onerrorCb(e)}_vwo_code.finish('&e=loading_failure:'+e)};o.send()}},getSettings:function(){try{var e=stT.getItem(cK);if(!e){return}e=JSON.parse(e);if(Date.now()>e.e){stT.removeItem(cK);return}return e.s}catch(e){return}},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;var e=this.settings_tolerance();w._vwo_settings_timer=setTimeout(function(){_vwo_code.finish();stT.removeItem(cK)},e);var t;if(this.hide_element()!=='body'){t=d.createElement('style');var i=this.hide_element(),n=i?i+this.hide_element_style():'',r=d.getElementsByTagName('head')[0];t.setAttribute('id','_vis_opt_path_hides');v&&t.setAttribute('nonce',v.nonce);t.setAttribute('type','text/css');if(t.styleSheet)t.styleSheet.cssText=n;else t.appendChild(d.createTextNode(n));r.appendChild(t)}else{t=d.getElementsByTagName('head')[0];var n=d.createElement('div');n.style.cssText='z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;';n.setAttribute('id','_vis_opt_path_hides');n.classList.add('_vis_hide_layer');t.parentNode.insertBefore(n,t.nextSibling)}var o='https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&vn='+version;if(w.location.search.indexOf('_vwo_xhr')!==-1){this.addScript({src:o})}else{this.load(o+'&x=true')}}};w._vwo_code=code;code.init();})();</script>  <script type=application/ld+json>{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "O'Reilly",
            "item": "https://www.oreilly.com/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Radar",
            "item": "https://www.oreilly.com/radar/"
        },
        {
            "@type": "ListItem",
            "position": 3,
            "name": "Working with Contexts",
            "item": "https://www.oreilly.com/radar/working-with-contexts/"
        }
    ]
}</script> </head><body
class="wp-singular post-template-default single single-post postid-17373 single-format-standard wp-theme-signal multisite-radar"><noscript><iframe
src="https://www.googletagmanager.com/ns.html?id=GTM-5P4V6Z" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><a
class=skipToMain id=skipToMain href=#maincontent>Skip to main content</a><header
role=banner><div
class=content><nav
role=navigation aria-label="site sections"><ul
class=marketingMenu>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/teams.html>For Enterprise</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/government.html>For Government</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/academic.html>For Higher Ed</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/individuals.html>For Individuals</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/content-marketing-solutions.html>For Content Marketing</a></li></ul><div
class=primaryMenu>
<a
href=https://www.oreilly.com class=logo title="home page">
<img
src=https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red.svg
srcset="https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png 2x"
alt="O'Reilly home">
</a><ul
id=menuList class="menuList mobileHidden {cs.var.menulist-class}">
<li
class=menuList-itemsLeft><ul>
<li
class="menuList-item mobileOnly"><a
href=https://www.oreilly.com/online-learning/teams.html>For Enterprise</a></li>
<li
class="menuList-item mobileOnly"><a
href=https://www.oreilly.com/online-learning/government.html>For Government</a></li>
<li
class="menuList-item mobileOnly"><a
href=https://www.oreilly.com/online-learning/academic.html>For Higher Ed</a></li>
<li
class="menuList-item mobileOnly"><a
href=https://www.oreilly.com/online-learning/individuals.html>For Individuals</a></li>
<li
class="menuList-item mobileOnly"><a
href=https://www.oreilly.com/content-marketing-solutions.html>For Content Marketing</a></li>
<li
class="menuList-item menuList-itemWithSub"><a
href=/search/skills>Explore Skills</a><ul
class="menuList-subList mobileHidden" id=skillsMenu></ul>
</li>
<li
class="menuList-item menuList-itemWithSub"><a
href=https://www.oreilly.com/online-learning/features.html>Features</a><ul
class=menuList-subList>
<li
class="menuList-subItem menuList-extra"><a
href=https://www.oreilly.com/online-learning/features.html>All Features</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/ai-academy.html>AI Academy</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/courses.html>Courses</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/feature-certification.html>Certifications</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/intro-interactive-learning.html>Interactive Learning</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/live-events.html>Live Events</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/feature-answers.html>Answers</a></li>
<li
class=menuList-subItem><a
href=https://www.oreilly.com/online-learning/insights-dashboard.html>Insights Reporting</a></li></ul>
</li>
<li
class=menuList-item><a
href=https://www.oreilly.com/radar/ aria-current=page>Radar Blog</a></li>
<li
class=menuList-item><a
href=https://www.oreilly.com/live/ >Buy Courses</a></li>
<li
class="menuList-item menuList-item-search" id=nav-search><form
id=js-searchForm class=searchForm action=https://www.oreilly.com/search/ ><input
id=search type=search name=query placeholder="Explore our content" autocomplete=off required><button
id=js-searchCloseButton class=navSearchCloseButton>Close</button></form>
<button
id=js-searchButton class=navSearchButton>Search</button>
</li></ul>
</li>
<li
class=menuList-itemsRight><ul>
<li
class="menuList-item menuList-plans"><a
href=https://www.oreilly.com/online-learning/pricing.html>Plans</a></li>
<li
class="menuList-item menuList-signIn"><a
id=nav-signIn href=https://www.oreilly.com/member/login/ >Sign In</a></li>
<li
class="menuList-item menuList-tryNow"><a
id=nav-tryNow class=menuList-cta href=https://www.oreilly.com/online-learning/try-now.html>Try Now</a></li>
<li
class="menuList-item menuList-platform"><a
id=nav-platform class=menuList-cta href=https://www.oreilly.com/member/login/ >O&rsquo;Reilly Platform</a></li></ul>
</li></ul><button
id=mobileNavButton class="mobileNavButton mobileNavButton--collapse" type=button aria-expanded=false aria-controls=menuList>
<span
class=mobileNavButton-box>
<span
class=mobileNavButton-inner></span>
</span>
</button></div></nav></div></header><div
class=headerBranding><div
class=content>
<a
class=hero-radar href=/radar/ title=Radar></a>
<button
id=themeToggle class=themeToggle aria-pressed=false>
<span
class=srOnly>Toggle dark mode</span>
<span
class=dark></span>
<span
class=light></span>
</button></div></div><main
role=main id=maincontent> <script type=application/ld+json>{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "@id": "https://www.oreilly.com/radar/working-with-contexts/#BlogPosting",
  "mainEntityOfPage": "https://www.oreilly.com/radar/working-with-contexts/",
  "headline": "Working with Contexts",
  "description": "The following article comes from two blog posts by Drew Breunig: “How Long Contexts Fail” and “How to Fix Your Contexts.” Managing Your Context Is the Key to Successful Agents As frontier model context windows continue to grow,1 with many supporting up to 1 million tokens, I see many excited discussions about how long-context windows …",
  "image": {
    "@type": "ImageObject",
    "url": "https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Abstract-colors-3-1600x1244.jpg"
  },
  "author": [
    {"@type": "Person", "name": "Drew Breunig", "url": "https://www.oreilly.com/people/drew-breunig/"}  ],
  "publisher": {
    "@type": "Organization",
    "name": "O'Reilly Media",
    "url": "https://www.oreilly.com/",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red.svg",
      "width": 200,
      "height": 50
    }
  },
  "datePublished": "2025-08-28",
  "dateModified": "2025-08-28",
  "wordCount": "3508",
  "timeRequired": "PT18M",
  "keywords": ["Deep Dive"],
  "genre": ["AI &amp; ML"],
  "isPartOf": {
    "@type": "Blog",
    "name": "O'Reilly Radar",
    "url": "https://www.oreilly.com/radar/"
  },
  "potentialAction": {
    "@type": "ViewAction",
    "target": "https://www.oreilly.com/radar/working-with-contexts/",
    "name": "Read Full Article"
  }
}</script> <div
class=pageLayout><div
class=sidebar id=right-rail><div
class="module open"><form
id=searchForm class=search role=search method=get action=https://www.oreilly.com/radar/ >
<input
type=search name=s placeholder=Search value></form><div
class=topics>
<a
href=/radar/topics/ai-ml/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label="ai & ml">AI &amp; ML</a>
<a
href=/radar/topics/business/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label=business>Business</a>
<a
href=/radar/topics/data/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label=data>Data</a>
<a
href=/radar/topics/innovation-and-disruption/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label=innovation>Innovation</a>
<a
href=/radar/tag/research/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label=research>Research</a>
<a
href=/radar/topics/security/ class=topicChip data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=topic data-ga-label=security>Security</a></div></div><div
class="module mobileMove"><h2>Buy courses</h2><p>Get expert-led live training on exactly what you want to learn.</p><div
class=upcomingEvents><a
href="https://www.oreilly.com/live/event-detail.csp?series=0636920327219&event=0642572180898" data-ga-event-name=eventTracker data-ga-category=radar data-ga-event="live event" data-ga-label="software architecture styles"><span
class=date><span
class=month>Sep</span><span
class=day>2</span></span><span
class=text><span
class=title>Software Architecture Styles</span></span></a><a
href="https://www.oreilly.com/live/event-detail.csp?series=0636920059654&event=0642572207694" data-ga-event-name=eventTracker data-ga-category=radar data-ga-event="live event" data-ga-label="hands-on software design"><span
class=date><span
class=month>Sep</span><span
class=day>2</span></span><span
class=text><span
class=title>Hands-on Software Design</span></span></a><a
href="https://www.oreilly.com/live/event-detail.csp?series=0642572191870&event=0642572191863" data-ga-event-name=eventTracker data-ga-category=radar data-ga-event="live event" data-ga-label="vibing with statistics"><span
class=date><span
class=month>Sep</span><span
class=day>2</span></span><span
class=text><span
class=title>Vibing with Statistics</span></span></a></div>
<a
href=https://www.oreilly.com/live/ class=ctaLink data-ga-event-name=eventTracker data-ga-category=radar data-ga-event="live event" data-ga-label="see all">See all</a></div><div
class="module mobileMove"><h2>Try the O’Reilly learning platform</h2><p>With the O’Reilly learning platform, you get the resources and guidance to keep your skills sharp and stay ahead. Try it free for 10 days.</p><a
href=https://learning.oreilly.com/start-trial/ class=ctaLink data-ga-event-name=eventTracker data-ga-category=radar data-ga-event=promo data-ga-label="start trial">Start trial</a></div><div
class="module mobileMove"><form
id=marketingCloudForm class=mc-form action=https://cl.exct.net/DEManager.aspx name=subscribeForm
method=post><h2>Get the Radar Trends newsletter</h2><input
type=hidden name=_clientID value=7200351>
<input
type=hidden name=_deExternalKey value=3559B084-4962-47D6-AD05-DAA2DE51CF45>
<input
type=hidden name=_action value=add>
<input
type=hidden name=_returnXML value=0>
<input
type=hidden name=_successURL value="https://www.oreilly.com/radar/?success=true">
<input
type=hidden name=_errorURL value="https://www.oreilly.com/radar/?error=true">
<input
type=hidden name=NewsletterTopic value=RadarTrends>
<input
type=hidden name=Marketing_Context value="email signup at https://www.oreilly.com/emails/newsletters/"><div
id=marketingCloudForm-errorMessage class=mc-form-errorMessage></div><div
class=mc-form-group><div
class=mc-form-item><label
for=emailaddress>Your email</label><input
type=email name=emailaddress
id=emailaddress data-text="email address" autocomplete=email aria-required=true></div><div
class=mc-form-item>
<label
for=country>Country</label>
<select
name=country id=country data-text=country autocomplete=country-name aria-required=true><option
value>- Select country -</option><option
value="United States">United States</option><option
value=Afghanistan>Afghanistan</option><option
value=Albania>Albania</option><option
value=Algeria>Algeria</option><option
value=Andorra>Andorra</option><option
value=Angola>Angola</option><option
value="Antigua and Barbuda">Antigua and Barbuda</option><option
value=Argentina>Argentina</option><option
value=Armenia>Armenia</option><option
value=Aruba>Aruba</option><option
value=Australia>Australia</option><option
value=Austria>Austria</option><option
value=Azerbaijan>Azerbaijan</option><option
value=Bahamas>The Bahamas</option><option
value=Bahrain>Bahrain</option><option
value=Bangladesh>Bangladesh</option><option
value=Barbados>Barbados</option><option
value=Belarus>Belarus</option><option
value=Belgium>Belgium</option><option
value=Belize>Belize</option><option
value=Benin>Benin</option><option
value=Bermuda>Bermuda</option><option
value=Bhutan>Bhutan</option><option
value="Bolivia, Plurinational State of">Bolivia</option><option
value="Bosnia and Herzegovina">Bosnia and Herzegovina</option><option
value=Botswana>Botswana</option><option
value=Brazil>Brazil</option><option
value="Brunei Darussalam">Brunei</option><option
value=Bulgaria>Bulgaria</option><option
value="Burkina Faso">Burkina Faso</option><option
value=Burundi>Burundi</option><option
value=Cambodia>Cambodia</option><option
value=Cameroon>Cameroon</option><option
value=Canada>Canada</option><option
value="Cape Verde">Cape Verde</option><option
value="Central African Republic">Central African Republic</option><option
value=Chad>Chad</option><option
value=Chile>Chile</option><option
value=China>People's Republic of China</option><option
value=Colombia>Colombia</option><option
value=Comoros>Comoros</option><option
value=Congo>Congo, Republic of the</option><option
value="Congo, the Democratic Republic of the">Congo, Democratic Republic of the</option><option
value="Cook Islands">Cook Islands</option><option
value="Costa Rica">Costa Rica</option><option
value="Cote d'Ivoire">C&ocirc;te d'Ivoire (Ivory Coast)</option><option
value=Croatia>Croatia</option><option
value=Cuba>Cuba</option><option
value=Cyprus>Cyprus</option><option
value="Czech Republic">Czechia</option><option
value=Denmark>Denmark</option><option
value=Djibouti>Djibouti</option><option
value=Dominica>Dominica</option><option
value="Dominican Republic">Dominican Republic</option><option
value=Ecuador>Ecuador</option><option
value=Egypt>Egypt</option><option
value="El Salvador">El Salvador</option><option
value="Equatorial Guinea">Equatorial Guinea</option><option
value=Eritrea>Eritrea</option><option
value=Estonia>Estonia</option><option
value=Swaziland>Eswatini (formerly Swaziland)</option><option
value=Ethiopia>Ethiopia</option><option
value="Federated States of Micronesia">Federated States of Micronesia</option><option
value=Fiji>Fiji</option><option
value=Finland>Finland</option><option
value=France>France</option><option
value=Gabon>Gabon</option><option
value=Gambia>The Gambia</option><option
value=Georgia>Georgia</option><option
value=Germany>Germany</option><option
value=Ghana>Ghana</option><option
value=Greece>Greece</option><option
value=Grenada>Grenada</option><option
value=Guatemala>Guatemala</option><option
value=Guinea>Guinea</option><option
value=Guinea-Bissau>Guinea-Bissau</option><option
value=Guyana>Guyana</option><option
value=Haiti>Haiti</option><option
value=Honduras>Honduras</option><option
value=Hungary>Hungary</option><option
value=Iceland>Iceland</option><option
value=India>India</option><option
value=Indonesia>Indonesia</option><option
value="Iran, Islamic Republic of">Iran</option><option
value=Iraq>Iraq</option><option
value=Ireland>Ireland</option><option
value=Israel>Israel</option><option
value=Italy>Italy</option><option
value=Jamaica>Jamaica</option><option
value=Japan>Japan</option><option
value=Jordan>Jordan</option><option
value=Kazakhstan>Kazakhstan</option><option
value=Kenya>Kenya</option><option
value=Kiribati>Kiribati</option><option
value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option><option
value="Korea, Republic of">Korea, Republic of</option><option
value=Kuwait>Kuwait</option><option
value=Kyrgyzstan>Kyrgyzstan</option><option
value="Lao People's Democratic Republic">Laos</option><option
value=Latvia>Latvia</option><option
value=Lebanon>Lebanon</option><option
value=Lesotho>Lesotho</option><option
value=Liberia>Liberia</option><option
value="Libyan Arab Jamahiriya">Libya</option><option
value=Liechtenstein>Liechtenstein</option><option
value=Lithuania>Lithuania</option><option
value=Luxembourg>Luxembourg</option><option
value="Macedonia, the former Yugoslav Republic of">Macedonia, Republic of</option><option
value=Madagascar>Madagascar</option><option
value=Malawi>Malawi</option><option
value=Malaysia>Malaysia</option><option
value=Maldives>Maldives</option><option
value=Mali>Mali</option><option
value=Malta>Malta</option><option
value=Mauritania>Mauritania</option><option
value=Mauritius>Mauritius</option><option
value=Mexico>Mexico</option><option
value="Moldova, Republic of">Moldova</option><option
value=Monaco>Monaco</option><option
value=Mongolia>Mongolia</option><option
value=Montenegro>Montenegro</option><option
value=Morocco>Morocco</option><option
value=Mozambique>Mozambique</option><option
value=Myanmar>Myanmar</option><option
value=Namibia>Namibia</option><option
value=Nauru>Nauru</option><option
value=Nepal>Nepal</option><option
value=Netherlands>Netherlands</option><option
value="New Zealand">New Zealand</option><option
value=Nicaragua>Nicaragua</option><option
value=Niger>Niger</option><option
value=Nigeria>Nigeria</option><option
value=Niue>Niue</option><option
value=Norway>Norway</option><option
value=Oman>Oman</option><option
value=Pakistan>Pakistan</option><option
value="Palestinian Territory, Occupied">Palestine, State of</option><option
value=Panama>Panama</option><option
value="Papua New Guinea">Papua New Guinea</option><option
value=Paraguay>Paraguay</option><option
value=Peru>Peru</option><option
value=Philippines>Philippines</option><option
value=Poland>Poland</option><option
value=Portugal>Portugal</option><option
value=Qatar>Qatar</option><option
value=Romania>Romania</option><option
value="Russian Federation">Russia</option><option
value=Rwanda>Rwanda</option><option
value="Saint Kitts and Nevis">Saint Kitts and Nevis</option><option
value="Saint Lucia">Saint Lucia</option><option
value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option><option
value=Samoa>Samoa</option><option
value="San Marino">San Marino</option><option
value="Sao Tome and Principe">S&atilde;o Tom&eacute; and Pr&iacute;ncipe</option><option
value="Saudi Arabia">Saudi Arabia</option><option
value=Senegal>Senegal</option><option
value=Serbia>Serbia</option><option
value=Seychelles>Seychelles</option><option
value="Sierra Leone">Sierra Leone</option><option
value=Singapore>Singapore</option><option
value=Slovakia>Slovakia</option><option
value=Slovenia>Slovenia</option><option
value="Solomon Islands">Solomon Islands</option><option
value=Somalia>Somalia</option><option
value="South Africa">South Africa</option><option
value="South Sudan">South Sudan</option><option
value=Spain>Spain</option><option
value="Sri Lanka">Sri Lanka</option><option
value=Sudan>Sudan</option><option
value=Suriname>Suriname</option><option
value=Sweden>Sweden</option><option
value=Switzerland>Switzerland</option><option
value="Syrian Arab Republic">Syria</option><option
value="Chinese Taipei">Taiwan</option><option
value=Tajikistan>Tajikistan</option><option
value="Tanzania, United Republic of">Tanzania</option><option
value=Thailand>Thailand</option><option
value=Timor-Leste>Timor-Leste (East Timor)</option><option
value=Togo>Togo</option><option
value=Tonga>Tonga</option><option
value="Trinidad and Tobago">Trinidad and Tobago</option><option
value=Tunisia>Tunisia</option><option
value=Turkey>Turkey</option><option
value=Turkmenistan>Turkmenistan</option><option
value=Tuvalu>Tuvalu</option><option
value=Uganda>Uganda</option><option
value=Ukraine>Ukraine</option><option
value="United Arab Emirates">United Arab Emirates</option><option
value="United Kingdom">United Kingdom</option><option
value="United States">United States</option><option
value=Uruguay>Uruguay</option><option
value=Uzbekistan>Uzbekistan</option><option
value=Vanuatu>Vanuatu</option><option
value="Holy See (Vatican City State)">Vatican City</option><option
value="Venezuela, Bolivarian Republic of">Venezuela</option><option
value="Viet Nam">Vietnam</option><option
value=Yemen>Yemen</option><option
value=Zambia>Zambia</option><option
value=Zimbabwe>Zimbabwe</option>
</select></div><div
class=mc-form-item><div
class="consentGroup hidden" id=consentGroup></div></div><div
class=mc-form-item><button
type=submit onclick="return verifMCForm();">Subscribe</button></div><div
class=mc-form-item><p
class=privacy>Please read our <a
href=http://oreilly.com/oreilly/privacy.html target=_blank>privacy policy</a>.</p></div></div></form><div
id=marketingCloudForm-thankyou class="marketingCloudForm-thankyou hidden"><h2>Thank you for subscribing to the O’Reilly Radar Trends to Watch newsletter.</h2></div> <script src=https://cdn.oreillystatic.com/assets/js/marketingCloudForm-20250502.js></script> <script src=https://www.oreilly.com/radar/wp-content/cache/minify/3/52453.js></script> </div></div><div
class=blogPost><div
class=pageHeader><p
class=breadcrumbs>
<a
href=https://www.oreilly.com/radar>Radar</a>
&gt; <a
href=https://www.oreilly.com/radar/topics/ >Topics</a>
&gt; <a
href=https://www.oreilly.com/radar/topics/ai-ml/ >AI & ML</a></p><div
class=pageHeaderContent><div
class=title><h1>Working with Contexts</h1><div
class=description><p></p></div></div><div
class=radar-post-page-meta><figure
class=authorPhotos>
<img
class=people-author-image src=https://www.oreilly.com/radar/wp-content/uploads/sites/4/2025/07/Drew_Breunig_Headshot-150x150.jpg alt></figure><p
class=text>
<span
class=radar-post-page-author>
By <a
href=https://www.oreilly.com/people/drew-breunig/ >Drew Breunig</a>  </span><span
class=radar-post-page-date>August 28, 2025 &bull; 18 minute read</span></p></div><div
class=radar-post-page-actions>
<button
class=share id=share><span
class=icon></span><span
class=text>Share</span></button><div
class=shareOverlay id=shareOverlay><div
class=shareItems id=shareItems>
<button
class=close><span
class=reader>Close</span></button><a
href="https://www.linkedin.com/feed/?shareActive&mini=true&text=O%E2%80%99Reilly%20-%20Working%20with%20Contexts%20with%20Drew%20Breunig%20-%20https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fworking-with-contexts%2F" class=linkedin rel="noopener nofollow noreferrer" aria-label="Share on LinkedIn" target=_blank><span
class=reader>LinkedIn</span></a><a
href="https://x.com/intent/tweet?original_referer=https%3A%2F%2Fwww.oreilly.com%2F&text=O%E2%80%99Reilly%20-%20Working%20with%20Contexts%20with%20Drew%20Breunig%20-%20https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fworking-with-contexts%2F" class=x rel="noopener nofollow noreferrer" aria-label="Share on X" target=_blank><span
class=reader>X</span></a><a
href="https://www.facebook.com/sharer/sharer.php?quote=O%E2%80%99Reilly%20-%20Working%20with%20Contexts%20with%20Drew%20Breunig%20-%20https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fworking-with-contexts%2F" class=facebook rel="noopener nofollow noreferrer" aria-label="Share on Facebook" target=_blank><span
class=reader>Facebook</span></a><a
href="https://threads.net/intent/post?text=O%E2%80%99Reilly%20-%20Working%20with%20Contexts%20with%20Drew%20Breunig%20-%20https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fworking-with-contexts%2F" class=threads rel="noopener nofollow noreferrer" aria-label="Share on Threads" target=_blank><span
class=reader>Threads</span></a><a
href="https://bsky.app/intent/compose?text=O%E2%80%99Reilly%20-%20Working%20with%20Contexts%20with%20Drew%20Breunig%20-%20https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fworking-with-contexts%2F" class=bluesky rel="noopener nofollow noreferrer" aria-label="Share on Bluesky" target=_blank><span
class=reader>Bluesky</span></a></div></div> <script>// Show share overlay when share button is clicked
  document.getElementById('share').addEventListener('click', (e) => {
    shareItems.classList.remove('hidden');
    shareOverlay.classList.add('over');
    document.querySelector('body').classList.add('fixed');
  });

  function hideShareOverlay() {
    shareOverlay.classList.remove('over');
    shareItems.classList.add('hidden');
    document.querySelector('body').classList.remove('fixed');
  }

  const shareItemsClose = shareItems.querySelector('.close');
  shareItemsClose.addEventListener('click', (e) => {
    hideShareOverlay();
  });

  shareOverlay.addEventListener('click', (e) => {
    hideShareOverlay();
  });

  shareItems.addEventListener('click', (e) => {
    e.stopPropagation();
  });</script> </div></div></div><section
class="postContent "><div
class=postContent-content id=postContent-content><p
class="has-cyan-bluish-gray-background-color has-background"><em>The following article comes from two blog posts by Drew Breunig: “<a
href=https://www.dbreunig.com/2025/06/22/how-contexts-fail-and-how-to-fix-them.html target=_blank rel="noreferrer noopener">How Long Contexts Fail</a>” and “<a
href=https://www.dbreunig.com/2025/06/26/how-to-fix-your-context.html target=_blank rel="noreferrer noopener">How to Fix Your Contexts</a>.”</em></p><h2 class="wp-block-heading">Managing Your Context Is the Key to Successful Agents</h2><p>As frontier model context windows continue to grow,<sup>1</sup> with many supporting up to 1 million tokens, I see many excited discussions about how long-context windows will unlock the agents of our dreams. After all, with a large enough window, you can simply throw&nbsp;<em>everything</em>&nbsp;into a prompt you might need—tools, documents, instructions, and more—and let the model take care of the rest.</p><p>Long contexts kneecapped RAG enthusiasm (no need to find the best doc when you can fit it all in the prompt!), enabled MCP hype (connect to every tool and models can do any job!), and fueled enthusiasm for agents.<sup>2</sup></p><p>But in reality, longer contexts do not generate better responses. Overloading your context can cause your agents and applications to fail in surprising ways. Contexts can become poisoned, distracting, confusing, or conflicting. This is especially problematic for agents, which rely on context to gather information, synthesize findings, and coordinate actions.</p><p>Let’s run through the ways contexts can get out of hand, then review methods to mitigate or entirely avoid context fails.</p><h3 class="wp-block-heading">Context Poisoning</h3><p><em>Context poisoning is when a hallucination or other error makes it into the context, where it is repeatedly referenced.</em></p><p>The DeepMind team called out context poisoning in the&nbsp;<a
href=https://storage.googleapis.com/deepmind-media/gemini/gemini_v2_5_report.pdf target=_blank rel="noreferrer noopener">Gemini 2.5 technical report</a>, which&nbsp;<a
href=https://www.dbreunig.com/2025/06/17/an-agentic-case-study-playing-pok%C3%A9mon-with-gemini.html target=_blank rel="noreferrer noopener">we broke down previously</a>. When playing Pokémon, the Gemini agent would occasionally hallucinate, poisoning its context:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>An especially egregious form of this issue can take place with “context poisoning”—where many parts of the context (goals, summary) are “poisoned” with misinformation about the game state, which can often take a very long time to undo. As a result, the model can become fixated on achieving impossible or irrelevant goals.</p></blockquote><p>If the “goals” section of its context was poisoned, the agent would develop nonsensical strategies and repeat behaviors in pursuit of a goal that cannot be met.</p><h3 class="wp-block-heading">Context Distraction</h3><p><em>Context distraction is when a context grows so long that the model over-focuses on the context, neglecting what it learned during training.</em></p><p>As context grows during an agentic workflow—as the model gathers more information and builds up history—this accumulated context can become distracting rather than helpful. The Pokémon-playing Gemini agent demonstrated this problem clearly:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>While Gemini 2.5 Pro supports 1M+ token context, making effective use of it for agents presents a new research frontier. In this agentic setup, it was observed that as the context grew significantly beyond 100k tokens, the agent showed a tendency toward favoring repeating actions from its vast history rather than synthesizing novel plans. This phenomenon, albeit anecdotal, highlights an important distinction between long-context for retrieval and long-context for multistep, generative reasoning.</p></blockquote><p>Instead of using its training to develop new strategies, the agent became fixated on repeating past actions from its extensive context history.</p><p>For smaller models, the distraction ceiling is much lower. A&nbsp;<a
href=https://www.databricks.com/blog/long-context-rag-performance-llms target=_blank rel="noreferrer noopener">Databricks study</a>&nbsp;found that model correctness began to fall around 32k for Llama 3.1-405b and earlier for smaller models.</p><p>If models start to misbehave long before their context windows are filled, what’s the point of super large context windows? In a nutshell: summarization<sup>3</sup>&nbsp;and fact retrieval. If you’re not doing either of those, be wary of your chosen model’s distraction ceiling.</p><h3 class="wp-block-heading">Context Confusion</h3><p><em>Context confusion is when superfluous content in the context is used by the model to generate a low-quality response.</em></p><p>For a minute there, it really seemed like&nbsp;<em>everyone</em>&nbsp;was going to ship an&nbsp;<a
href=https://www.dbreunig.com/2025/03/18/mcps-are-apis-for-llms.html target=_blank rel="noreferrer noopener">MCP</a>. The dream of a powerful model, connected to&nbsp;<em>all</em>&nbsp;your services and&nbsp;<em>stuff</em>, doing all your mundane tasks felt within reach. Just throw all the tool descriptions into the prompt and hit go.&nbsp;<a
href=https://www.dbreunig.com/2025/05/07/claude-s-system-prompt-chatbots-are-more-than-just-models.html target=_blank rel="noreferrer noopener">Claude’s system prompt</a>&nbsp;showed us the way, as it’s mostly tool definitions or instructions for using tools.</p><p>But even if&nbsp;<a
href=https://www.dbreunig.com/2025/06/16/drawbridges-go-up.html target=_blank rel="noreferrer noopener">consolidation and competition don’t slow MCPs</a>,&nbsp;<em>context confusion</em>&nbsp;will. It turns out there can be such a thing as too many tools.</p><p>The&nbsp;<a
href=https://gorilla.cs.berkeley.edu/leaderboard.html target=_blank rel="noreferrer noopener">Berkeley Function-Calling Leaderboard</a>&nbsp;is a tool-use benchmark that evaluates the ability of models to effectively use tools to respond to prompts. Now on its third version, the leaderboard shows that&nbsp;<em>every</em>&nbsp;model performs worse when provided with more than one tool.<sup>4</sup> Further, the Berkeley team, “designed scenarios where none of the provided functions are relevant…we expect the model’s output to be no function call.” Yet, all models will occasionally call tools that aren’t relevant.</p><p>Browsing the function-calling leaderboard, you can see the problem get worse as the models get smaller:</p><figure
class="wp-block-image size-full"><img
fetchpriority=high decoding=async width=866 height=358 src=https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Tool-Calling-Irrelevance-Score-for-Gemma-Models.png alt="Tool-calling irrelevance score for Gemma models (chart from dbreunig.com, source: Berkeley Function-Calling Leaderboard; created with Datawrapper)" class=wp-image-17374 title="Tool-Calling Irrelevance Score for Gemma Models" srcset="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Tool-Calling-Irrelevance-Score-for-Gemma-Models.png 866w, https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Tool-Calling-Irrelevance-Score-for-Gemma-Models-300x124.png 300w, https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/Tool-Calling-Irrelevance-Score-for-Gemma-Models-768x317.png 768w" sizes="(min-width: 1024px) 800px, 100vw"></figure><p>A striking example of context confusion can be seen in a&nbsp;<a
href=https://arxiv.org/pdf/2411.15399? target=_blank rel="noreferrer noopener">recent paper</a>&nbsp;that evaluated small model performance on the&nbsp;<a
href=https://arxiv.org/abs/2404.15500 target=_blank rel="noreferrer noopener">GeoEngine benchmark</a>, a trial that features&nbsp;<em>46 different tools</em>. When the team gave a quantized (compressed) Llama 3.1 8b a query with all 46 tools, it failed, even though the context was well within the 16k context window. But when they only gave the model 19 tools, it succeeded.</p><p>The problem is, if you put something in the context,&nbsp;<em>the model has to pay attention to it.</em>&nbsp;It may be irrelevant information or needless tool definitions, but the model&nbsp;<em>will</em>&nbsp;take it into account. Large models, especially reasoning models, are getting better at ignoring or discarding superfluous context, but we continually see worthless information trip up agents. Longer contexts let us stuff in more info, but this ability comes with downsides.</p><h3 class="wp-block-heading">Context Clash</h3><p><em>Context clash is when you accrue new information and tools in your context that conflicts with other information in the context.</em></p><p>This is a more problematic version of&nbsp;<em>context confusion</em>. The bad context here isn’t irrelevant, it directly conflicts with other information in the prompt.</p><p>A Microsoft and Salesforce team documented this brilliantly in a&nbsp;<a
href=https://arxiv.org/pdf/2505.06120 target=_blank rel="noreferrer noopener">recent paper</a>. The team took prompts from multiple benchmarks and “sharded” their information across multiple prompts. Think of it this way: Sometimes, you might sit down and type paragraphs into ChatGPT or Claude before you hit enter, considering every necessary detail. Other times, you might start with a simple prompt, then add further details when the chatbot’s answer isn’t satisfactory. The Microsoft/Salesforce team modified benchmark prompts to look like these multistep exchanges:</p><figure
class="wp-block-image size-full"><img
decoding=async width=867 height=196 src=https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/MicrosoftSalesforce-team-benchmark-prompts.png alt="Microsoft/Salesforce team benchmark prompts" class=wp-image-17375 title="Microsoft/Salesforce team benchmark prompts" srcset="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/MicrosoftSalesforce-team-benchmark-prompts.png 867w, https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/MicrosoftSalesforce-team-benchmark-prompts-300x68.png 300w, https://www.oreilly.com/radar/wp-content/uploads/sites/3/2025/08/MicrosoftSalesforce-team-benchmark-prompts-768x174.png 768w" sizes="(min-width: 1024px) 800px, 100vw"></figure><p>All the information from the prompt on the left side is contained within the several messages on the right side, which would be played out in multiple chat rounds.</p><p>The sharded prompts yielded dramatically worse results, with an average drop of 39%. And the team tested a range of models—OpenAI’s vaunted o3’s score dropped from 98.1 to 64.1.</p><p>What’s going on? Why are models performing worse if information is gathered in stages rather than all at once?</p><p>The answer is&nbsp;<em>context confusion</em>: The assembled context, containing the entirety of the chat exchange, contains early attempts by the model to answer the challenge&nbsp;<em>before it has all the information</em>. These incorrect answers remain present in the context and influence the model when it generates its final answer. The team writes:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>We find that LLMs often make assumptions in early turns and prematurely attempt to generate final solutions, on which they overly rely. In simpler terms, we discover that when LLMs take a wrong turn in a conversation, they get lost and do not recover.</p></blockquote><p>This does not bode well for agent builders. Agents assemble context from documents, tool calls, and from other models tasked with subproblems. All of this context, pulled from diverse sources, has the potential to disagree with itself. Further, when you connect to MCP tools you didn’t create there’s a greater chance their descriptions and instructions clash with the rest of your prompt.</p><h2 class="wp-block-heading">Learnings</h2><p>The arrival of million-token context windows felt transformative. The ability to throw everything an agent might need into the prompt inspired visions of superintelligent assistants that could access any document, connect to every tool, and maintain perfect memory.</p><p>But, as we’ve seen, bigger contexts create new failure modes. Context poisoning embeds errors that compound over time. Context distraction causes agents to lean heavily on their context and repeat past actions rather than push forward. Context confusion leads to irrelevant tool or document usage. Context clash creates internal contradictions that derail reasoning.</p><p>These failures hit agents hardest because agents operate in exactly the scenarios where contexts balloon: gathering information from multiple sources, making sequential tool calls, engaging in multi-turn reasoning, and accumulating extensive histories.</p><p>Fortunately, there are solutions!</p><h2 class="wp-block-heading">Mitigating and Avoiding Context Failures</h2><p>Let’s run through the ways we can mitigate or avoid context failures entirely.</p><p>Everything is about information management. Everything in the context influences the response. We’re back to the old programming adage of “<a
href=https://en.wikipedia.org/wiki/Garbage_in,_garbage_out target=_blank rel="noreferrer noopener">garbage in, garbage out</a>.” Thankfully, there’s plenty of options for dealing with the issues above.</p><h3 class="wp-block-heading">RAG</h3><p><em>Retrieval-augmented generation (RAG) is the act of selectively adding relevant information to help the LLM generate a better response.</em></p><p>Because so much has been written about RAG, we’re not going to cover it here beyond saying: It’s very much alive.</p><p>Every time a model ups the context window ante, a new “RAG is dead” debate is born. The last significant event was when Llama 4 Scout landed with a&nbsp;<em>10 million token window</em>. At that size, it’s&nbsp;<em>really</em>&nbsp;tempting to think, “Screw it, throw it all in,” and call it a day.</p><p>But, as we&#8217;ve already covered, if you treat your context like a junk drawer, the junk will&nbsp;<a
href=https://www.dbreunig.com/2025/06/22/how-contexts-fail-and-how-to-fix-them.html#context-confusion target=_blank rel="noreferrer noopener">influence your response</a>. If you want to learn more, here’s a&nbsp;<a
href=https://maven.com/p/569540/i-don-t-use-rag-i-just-retrieve-documents target=_blank rel="noreferrer noopener">new course that looks great</a>.</p><h3 class="wp-block-heading">Tool Loadout</h3><p><em>Tool loadout is the act of selecting only relevant tool definitions to add to your context.</em></p><p>The term “loadout” is a gaming term that refers to the specific combination of abilities, weapons, and equipment you select before a level, match, or round. Usually, your loadout is tailored to the context—the character, the level, the rest of your team’s makeup, and your own skill set. Here, we’re borrowing the term to describe selecting the most relevant tools for a given task.</p><p>Perhaps the simplest way to select tools is to apply RAG to your tool descriptions. This is exactly what Tiantian Gan and Qiyao Sun did, which they detail in their paper “<a
href=https://arxiv.org/abs/2505.03275 target=_blank rel="noreferrer noopener">RAG MCP</a>.” By storing their tool descriptions in a vector database, they’re able to select the most relevant tools given an input prompt.</p><p>When prompting DeepSeek-v3, the team found that selecting the right tools becomes critical when you have more than 30 tools. Above 30, the descriptions of the tools begin to overlap, creating confusion. Beyond&nbsp;<em>100 tools</em>, the model was virtually guaranteed to fail their test. Using RAG techniques to select fewer than 30 tools yielded dramatically shorter prompts and resulted in as much as 3x better tool selection accuracy.</p><p>For smaller models, the problems begin long before we hit 30 tools. One paper we touched on previously, “<a
href=https://arxiv.org/abs/2411.15399 target=_blank rel="noreferrer noopener">Less is More</a>,” demonstrated that Llama 3.1 8b fails a benchmark when given 46 tools, but succeeds when given only 19 tools. The issue is context confusion,&nbsp;<em>not</em>&nbsp;context window limitations.</p><p>To address this issue, the team behind “Less is More” developed a way to dynamically select tools using an LLM-powered tool recommender. The LLM was prompted to reason about “number and type of tools it ‘believes’ it requires to answer the user’s query.” This output was then semantically searched (tool RAG, again) to determine the final loadout. They tested this method with the&nbsp;<a
href=https://gorilla.cs.berkeley.edu/leaderboard.html target=_blank rel="noreferrer noopener">Berkeley Function-Calling Leaderboard</a>, finding Llama 3.1 8b performance improved by 44%.</p><p>The “Less is More” paper notes two other benefits to smaller contexts—reduced power consumption and speed—crucial metrics when operating at the edge (meaning, running an LLM on your phone or PC, not on a specialized server). Even when their dynamic tool selection method&nbsp;<em>failed</em>&nbsp;to improve a model’s result, the power savings and speed gains were worth the effort, yielding savings of 18% and 77%, respectively.</p><p>Thankfully, most agents have smaller surface areas that only require a few hand-curated tools. But if the breadth of functions or the amount of integrations needs to expand, always consider your loadout.</p><h3 class="wp-block-heading">Context Quarantine</h3><p><em>Context quarantine is the act of isolating contexts in their own dedicated threads, each used separately by one or more LLMs.</em></p><p>We see better results when our contexts aren’t too long and don’t sport irrelevant content. One way to achieve this is to break our tasks up into smaller, isolated jobs—each with its own context.</p><p>There are&nbsp;<a
href=https://arxiv.org/abs/2402.14207 target=_blank rel="noreferrer noopener">many</a>&nbsp;<a
href=https://www.microsoft.com/en-us/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks/ target=_blank rel="noreferrer noopener">examples</a>&nbsp;of this tactic, but an accessible write-up of this strategy is Anthropic’s&nbsp;<a
href=https://www.anthropic.com/engineering/built-multi-agent-research-system target=_blank rel="noreferrer noopener">blog post detailing its multi-agent research system</a>. They write:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>The essence of search is compression: distilling insights from a vast corpus. Subagents facilitate compression by operating in parallel with their own context windows, exploring different aspects of the question simultaneously before condensing the most important tokens for the lead research agent. Each subagent also provides separation of concerns—distinct tools, prompts, and exploration trajectories—which reduces path dependency and enables thorough, independent investigations.</p></blockquote><p>Research lends itself to this design pattern. When given a question, multiple agents can identify and&nbsp;separately prompt&nbsp;several&nbsp;subquestions or areas of exploration. This not only speeds up the information gathering and distillation (if there’s compute available), but it keeps each context from accruing too much information or information not relevant to a given prompt, delivering higher quality results:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>Our internal evaluations show that multi-agent research systems excel especially for breadth-first queries that involve pursuing multiple independent directions simultaneously. We found that a multi-agent system with Claude Opus 4 as the lead agent and Claude Sonnet 4 subagents outperformed single-agent Claude Opus 4 by 90.2% on our internal research eval. For example, when asked to identify all the board members of the companies in the Information Technology S&amp;P 500, the multi-agent system found the correct answers by decomposing this into tasks for subagents, while the single-agent system failed to find the answer with slow, sequential searches.</p></blockquote><p>This approach also helps with tool loadouts, as the agent designer can create several agent archetypes with their own dedicated loadout and instructions for how to utilize each tool.</p><p>The challenge for agent builders, then, is to find opportunities for isolated tasks to spin out onto separate threads. Problems that require context-sharing among multiple agents aren’t particularly suited to this tactic.</p><p>If your agent’s domain is at all suited to parallelization, be sure to <a
href=https://www.anthropic.com/engineering/built-multi-agent-research-system target=_blank rel="noreferrer noopener">read the whole Anthropic write-up</a>. It’s excellent.</p><h3 class="wp-block-heading">Context Pruning</h3><p><em>Context pruning is the act of removing irrelevant or otherwise unneeded information from the context.</em></p><p>Agents accrue context as they fire off tools and assemble documents. At times, it’s worth pausing to assess what’s been assembled and remove the cruft. This could be something you task your main LLM with or you could design a separate LLM-powered tool to review and edit the context. Or you could choose something more tailored to the pruning task.</p><p>Context pruning has a (relatively) long history, as context lengths were a more problematic bottleneck in the natural language processing (NLP) field prior to ChatGPT. Building on this history, a current pruning method is&nbsp;<a
href=https://arxiv.org/abs/2501.16214 target=_blank rel="noreferrer noopener">Provence</a>, “an efficient and robust context pruner for question answering.”</p><p>Provence is fast, accurate, simple to use, and relatively small—only 1.75 GB. You can call it in a few lines, like so:</p><pre class=wp-block-code><code>from transformers import AutoModel

provence = AutoModel.from_pretrained("naver/provence-reranker-debertav3-v1", trust_remote_code=True)

# <em>Read in a markdown version of the Wikipedia entry for Alameda, CA</em>
with open('alameda_wiki.md', 'r', encoding='utf-8') as f:
    alameda_wiki = f.read()

# <em>Prune the article, given a question</em>
question = 'What are my options for leaving Alameda?'
provence_output = provence.process(question, alameda_wiki)</code></pre><p>Provence edited the article, cutting 95% of the content, leaving me with only&nbsp;<a
href=https://gist.github.com/dbreunig/b3bdd9eb34bc264574954b2b954ebe83 target=_blank rel="noreferrer noopener">this relevant subset</a>. It nailed it.</p><p>One could employ Provence or a similar function to cull documents or the entire context. Further, this pattern is a strong argument for maintaining a&nbsp;<em>structured</em><sup>5</sup>&nbsp;version of your context in a dictionary or other form, from which you assemble a compiled string prior to every LLM call. This structure would come in handy when pruning, allowing you to ensure the main instructions and goals are preserved while the document or history sections can be pruned or summarized.</p><h3 class="wp-block-heading">Context Summarization</h3><p><em>Context summarization is the act of boiling down an accrued context into a condensed summary.</em></p><p>Context summarization first appeared as a tool for dealing with smaller context windows. As your chat session came close to exceeding the maximum context length, a summary would be generated and a new thread would begin. Chatbot users did this manually in ChatGPT or Claude, asking the bot to generate a short recap that would then be pasted into a new session.</p><p>However, as context windows increased, agent builders discovered there are&nbsp;benefits to summarization besides staying within the total context limit. As we&#8217;ve seen, beyond 100,000 tokens the context becomes distracting&nbsp;and causes the agent to rely on its accumulated history rather than training. Summarization can help it &#8220;start over&#8221; and avoid repeating context-based actions.</p><p>Summarizing your context is easy to do, but hard to perfect for any given agent. Knowing what information should be preserved and detailing that to an LLM-powered compression step is critical for agent builders. It’s worth breaking out this function as its own LLM-powered stage or app, which allows you to collect evaluation data that can inform and optimize this task directly.</p><h3 class="wp-block-heading">Context Offloading</h3><p><em>Context offloading is the act of storing information outside the LLM’s context, usually via a tool that stores and manages the data.</em></p><p>This might be my favorite tactic, if only because it’s so&nbsp;<em>simple</em>&nbsp;you don’t believe it will work.</p><p>Again, <a
href=https://www.anthropic.com/engineering/claude-think-tool target=_blank rel="noreferrer noopener">Anthropic has a good write-up of the technique</a>, which details their “think” tool, which is basically a scratchpad:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>With the “think” tool, we’re giving Claude the ability to include an additional thinking step—complete with its own designated space—as part of getting to its final answer… This is particularly helpful when performing long chains of tool calls or in long multi-step conversations with the user.</p></blockquote><p>I really appreciate the research and other writing Anthropic publishes, but I’m not a fan of this tool’s name. If this tool were called&nbsp;<code>scratchpad</code>, you’d know its function&nbsp;<em>immediately</em>. It’s a place for the model to write down notes that don’t cloud its context and are available for later reference. The name “think” clashes with “<a
href=https://www.anthropic.com/news/visible-extended-thinking target=_blank rel="noreferrer noopener">extended thinking</a>” and needlessly anthropomorphizes the model… but I digress.</p><p>Having a space to log notes and progress&nbsp;<em>works</em>. Anthropic shows pairing the “think” tool with a domain-specific prompt (which you’d do anyway in an agent) yields significant gains: up to a 54% improvement against a benchmark for specialized agents.</p><p>Anthropic identified three scenarios where the context offloading pattern is useful:</p><blockquote
class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><ol
class=wp-block-list>
<li>Tool output analysis. When Claude needs to carefully process the output of previous tool calls before acting and might need to backtrack in its approach;</li><li>Policy-heavy environments. When Claude needs to follow detailed guidelines and verify compliance; and</li><li>Sequential decision making. When each action builds on previous ones and mistakes are costly (often found in multi-step domains).</li></ol></blockquote><h2 class="wp-block-heading">Takeaways</h2><p>Context management is usually the hardest part of building an agent. Programming the LLM to, as Karpathy says, “<a
href=https://x.com/karpathy/status/1937902205765607626 target=_blank rel="noreferrer noopener">pack the context windows just right</a>,” smartly deploying tools, information, and regular context maintenance, is&nbsp;<em>the</em>&nbsp;job of the agent designer.</p><p>The key insight across all the above tactics is that&nbsp;<em>context is not free</em>. Every token in the context influences the model’s behavior, for better or worse. The massive context windows of modern LLMs are a powerful capability, but they’re not an excuse to be sloppy with information management.</p><p>As you build your next agent or optimize an existing one, ask yourself: Is everything in this context earning its keep? If not, you now have six ways to fix it.</p><hr
class="wp-block-separator has-alpha-channel-opacity is-style-wide"><h2 class="wp-block-heading">Footnotes</h2><ol
class=wp-block-list>
<li>Gemini 2.5 and GPT-4.1 have 1 million token context windows, large enough to throw&nbsp;<a
href=https://en.wikipedia.org/wiki/Infinite_Jest target=_blank rel="noreferrer noopener">Infinite Jest</a>&nbsp;in there with plenty of room to spare.</li><li>The “<a
href=https://ai.google.dev/gemini-api/docs/long-context#long-form-text target=_blank rel="noreferrer noopener">Long form text</a>” section in the Gemini docs sum up this optmism nicely.</li><li>In fact, in the Databricks study cited above, a frequent way models would fail when given long contexts is they’d return summarizations of the provided context while ignoring any instructions contained within the prompt.</li><li>If you’re on the leaderboard, pay attention to the “Live (AST)” columns.&nbsp;<a
href=https://gorilla.cs.berkeley.edu/blogs/12_bfcl_v2_live.html target=_blank rel="noreferrer noopener">These metrics use real-world tool definitions contributed to the product by enterprise</a>, “avoiding the drawbacks of dataset contamination and biased benchmarks.”</li><li>Hell, this entire list of tactics is a strong argument for why&nbsp;<a
href=https://www.dbreunig.com/2025/06/10/let-the-model-write-the-prompt.html target=_blank rel="noreferrer noopener">you should program your contexts</a>.</li></ol></div><div
class=postContent-end><div
class=radar-post-page-meta >
Post topics: <a
href=https://www.oreilly.com/radar/topics/ai-ml/ title="AI &amp; ML">AI &amp; ML</a></div><div
class=radar-post-page-meta >
Post tags: <a
href=https://www.oreilly.com/radar/tag/deep-dive/ title="Deep Dive">Deep Dive</a></div></div></section></div></div><div
id=bottomModules class=bottomModules></div></main><footer
id=footer class=footer><div
class=content><div
class=footer-social><p>Follow us</p><a
href=https://www.linkedin.com/company/oreilly-media target=_blank><svg
xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=none><title>linkedin logo</title><g
clip-path=url(#clip0_1065_834)><path
d="M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.448 11.081 20.448 14.166L20.447 20.452ZM5.337 7.433C4.193 7.433 3.274 6.507 3.274 5.368C3.274 4.23 4.194 3.305 5.337 3.305C6.477 3.305 7.401 4.23 7.401 5.368C7.401 6.507 6.476 7.433 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z" fill=#444444 /></g><defs><clipPath
id="clip0_1065_834"><rect
width=24 height=24 fill=white /></clipPath></defs></svg></a><a
href=https://www.youtube.com/user/OreillyMedia target=_blank><svg
xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=none><title>youtube logo</title><path
d="M23.495 6.20498C23.356 5.70674 23.0907 5.2528 22.725 4.88703C22.3592 4.52126 21.9052 4.25603 21.407 4.11698C19.537 3.61598 12.011 3.61598 12.011 3.61598C12.011 3.61598 4.50401 3.60598 2.61501 4.11698C2.11677 4.25603 1.66283 4.52126 1.29706 4.88703C0.931287 5.2528 0.666058 5.70674 0.527007 6.20498C0.172528 8.11949 -0.0022322 10.0629 0.00500725 12.01C-0.000863617 13.9497 0.173891 15.8857 0.527007 17.793C0.666058 18.2912 0.931287 18.7452 1.29706 19.1109C1.66283 19.4767 2.11677 19.7419 2.61501 19.881C4.48301 20.383 12.011 20.383 12.011 20.383C12.011 20.383 19.517 20.383 21.407 19.881C21.9052 19.7419 22.3592 19.4767 22.725 19.1109C23.0907 18.7452 23.356 18.2912 23.495 17.793C23.8407 15.885 24.0081 13.949 23.995 12.01C24.0095 10.0636 23.8421 8.12018 23.495 6.20498ZM9.60901 15.601V8.40798L15.873 12.01L9.60901 15.601Z" fill=#444444 /></svg></a></div><div
class=footer-main aria-label="company info"><div
class=footer-mainLeft><div
class=footer-approach><h2 class="footer-header"><a
href=https://www.oreilly.com/about/ >About O&rsquo;Reilly</a></h2><ul
class=footer-links>
<li><a
href=https://www.oreilly.com/work-with-us.html>Teach/Write/Train</a></li>
<li><a
href=https://www.oreilly.com/careers/ >Careers</a></li>
<li><a
href=https://www.oreilly.com/press/ >O&rsquo;Reilly News</a></li>
<li><a
href=https://www.oreilly.com/press/media-coverage.html>Media Coverage</a></li>
<li><a
href=https://www.oreilly.com/partner/signup.csp>Community Partners</a></li>
<li><a
href=https://www.oreilly.com/affiliates/ >Affiliate Program</a></li>
<li><a
href=https://www.oreilly.com/online-learning/rfp.html>Submit an RFP</a></li>
<li><a
href=https://www.oreilly.com/diversity/ >Diversity</a></li>
<li><a
href=https://www.oreilly.com/content-marketing-solutions.html id=footerSponsorshipLink>Content Sponsorship</a></li></ul></div><div
class=footer-contact><h2 class="footer-header"><a
href=https://www.oreilly.com/online-learning/support/ >Support</a></h2><ul
class=footer-links>
<li><a
href=https://www.oreilly.com/about/contact.html>Contact Us</a></li>
<li><a
href=https://www.oreilly.com/emails/newsletters/ >Newsletters</a></li>
<li><a
href=https://www.oreilly.com/privacy.html>Privacy Policy</a></li>
<li><a
href=https://www.oreilly.com/about/oreilly-approach-to-generative-ai.html>AI Policy</a></li></ul></div><div
class=footer-international><h2 class="footer-header">International</h2><ul
class=footer-links>
<li><a
href=https://www.oreilly.com/online-learning/anz.html>Australia &amp; New Zealand</a></li>
<li><a
href=https://www.oreilly.co.jp/index.shtml>Japan</a></li></ul></div></div><div
class=footer-mainRight><div
class=footer-download id=download-info><h2 class="footer-header">Download the O&rsquo;Reilly App</h2><p>Take O&rsquo;Reilly with you and learn anywhere, anytime on your phone and tablet.</p><div
class=footer-downloadLinks>
<a
href=https://itunes.apple.com/us/app/safari-to-go/id881697395><img
src=https://cdn.oreillystatic.com/oreilly/images/app-store-logo.png alt="Apple app store"></a>
<a
href="https://play.google.com/store/apps/details?id=com.safariflow.queue"><img
src=https://cdn.oreillystatic.com/oreilly/images/google-play-logo.png  alt="Google play store"></a></div></div><div
class=footer-download id=tv-info><h2 class="footer-header">Watch on Your Big Screen</h2><p>View all O&rsquo;Reilly videos, virtual conferences, and live events on your home TV.</p><div
class=footer-downloadLinks>
<a
href=https://channelstore.roku.com/details/c9d25fa651f0ad84e484b0dfd4b20172:856a240ad268961983e91ae52c1e1e5c/oreilly><img
src=https://cdn.oreillystatic.com/oreilly/images/roku-tv-logo.png alt="Roku Players and TVs"></a>
<a
href="https://www.amazon.com/OReilly-Media-Inc/dp/B087YYHL5C/ref=sr_1_2?dchild=1&keywords=oreilly&qid=1604964116&s=mobile-apps&sr=1-2"><img
src=https://cdn.oreillystatic.com/oreilly/images/amazon-appstore-logo.png  alt="Amazon appstore"></a></div></div></div></div><div
class=footer-subfooter>
<a
class=footer-subfooterLogo href=https://www.oreilly.com title="home page" aria-current=page>
<img
id=footer-subfooterLogo
src=https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red.svg
srcset="https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png 2x"
alt="O'Reilly home">
</a><div
class=footer-donotsell id=donotsell-info><h2 class="footer-header"><a
href="https://www.oreilly.com/privacy.html?donotsell=show">Do not sell or share my personal information</a>.</h2></div><div><p>&copy; 2025, O&rsquo;Reilly Media, Inc.  All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners.</p><p><a
href=https://www.oreilly.com/terms/ >Terms of Service</a> &bull; <a
href=https://www.oreilly.com/privacy.html>Privacy Policy</a> &bull; <a
href=https://www.oreilly.com/about/editorial_independence.html>Editorial Independence</a><span
class=transparencyStatement style=display:none;> &bull; <a
href=https://www.oreilly.com/modern-slavery-act-transparency-statement.html>Modern Slavery Act Statement</a></span></p></div></div></div></footer> <script type=speculationrules>{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/radar\/*"},{"not":{"href_matches":["\/radar\/wp-*.php","\/radar\/wp-admin\/*","\/radar\/wp-content\/uploads\/sites\/3\/*","\/radar\/wp-content\/*","\/radar\/wp-content\/plugins\/*","\/radar\/wp-content\/themes\/signal\/*","\/radar\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}</script> <script id=feed-loader-js-extra>var feed_ajax = {"ajaxurl":"https:\/\/www.oreilly.com\/radar\/wp-admin\/admin-ajax.php"};</script> <script src=https://www.oreilly.com/radar/wp-content/cache/minify/3/afccc.js></script>  <script src=https://cdn.oreillystatic.com/assets/js/skills-nav.js></script> <script>// Handle the reading mode toggle
const themeToggleBtn = document.getElementById('themeToggle');
let savedTheme = localStorage.getItem('theme');
const prefersDarkTheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
const prefersLightTheme = window.matchMedia('(prefers-color-scheme: light)').matches;
const theme = savedTheme || (prefersDarkTheme ? 'dark' : (prefersLightTheme ? 'light' : 'dark'));

document.documentElement.setAttribute('data-theme', theme);
themeToggleBtn.setAttribute('aria-pressed', theme === 'light');

document.addEventListener("DOMContentLoaded", () => {
  themeToggleBtn.addEventListener('click', () => {
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    const newTheme = isDark ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    themeToggleBtn.setAttribute('aria-pressed', newTheme === 'light');


    if (typeof dataLayer !== "undefined" && Array.isArray(dataLayer)) {
      dataLayer.push({
        'event': "eventTracker",
        'eventCat': "radar",
        'eventAct': "reading mode",
        'eventLbl': newTheme,
        'eventVal': 0,
        'nonInteraction': 0
      });
    } else {
      console.warn("dataLayer is not defined. Reading mode event not tracked.");
    }
  });

  // Enable transitions only after initial setup
  requestAnimationFrame(() => {
    document.documentElement.classList.add('enableTransitions');
  });
});


window.addEventListener("scroll", function () {
  document.body.classList.toggle("scrolled", window.scrollY > 50);
});

jQuery(function() {
  //Toggle isActive and mobileHidden classes for mobileNavButton
  jQuery('nav #mobileNavButton').on('click', function() {
    var expanded = jQuery(this).attr('aria-expanded') === 'true' || false;
    jQuery(this).attr('aria-expanded', !expanded);
    jQuery(this).toggleClass("isActive");
    jQuery(this).prev().toggleClass("mobileHidden");
  });

  //Toggle isFocused class for keyboard navigation of submenus
  jQuery('nav #menuList .menuList-subItem a').each(function(navItem) {
    jQuery(this).on('focus', function() {
      jQuery(this).parents('.menuList-itemWithSub, .menuList-subList').toggleClass('isFocused');
    });
    jQuery(this).on('blur', function() {
      jQuery(this).parents('.menuList-itemWithSub, .menuList-subList').toggleClass('isFocused');
    });
  });

  //Toggle mobileHidden class accordian elements
  jQuery('.mobileAccordian').each(function() {
    var $btn = jQuery(this).find('button');
    var $target =  jQuery(this).next();
    $btn.on('click', function() {
      var expanded = $btn.attr('aria-expanded') === 'true' || false;

      $btn.attr('aria-expanded', !expanded);
      $target.toggleClass("mobileHidden");  
    });
  });

  //Search platform form action
  function searchSubmit(e) {
    e.preventDefault();
    sParameter = searchForm.search.value;
    sParameter = encodeURIComponent(sParameter.trim());
    sURL = searchForm.action + '?query=' + sParameter;
    window.location = sURL;

    //GA event for search
    dataLayer.push({
      'event': 'eventTracker',
      'eventCat':'site search',
      'eventAct':'search box',
      'eventLbl':'explore our content',
      'eventVal':0, 
      'nonInteraction': 0,
    });
  }
  const searchForm = document.getElementById('js-searchForm');
  searchForm.addEventListener('submit', searchSubmit);

  //Search button action
  function showNavSearch(e) {
    jQuery('.menuList-item-search').addClass('overlay');
    jQuery('.menuList-item-search input#search').focus();
  }
  const searchButton = document.getElementById('js-searchButton');
  searchButton.addEventListener('click', showNavSearch);

  //Close search button action
  function hideNavSearch(e) {
    jQuery('.menuList-item-search').removeClass('overlay');
  }
  const searchCloseButton = document.getElementById('js-searchCloseButton');
  searchCloseButton.addEventListener('click', hideNavSearch);
});</script> <script id=MathJax-script>var math = document.getElementsByClassName('math-tex');
    if (math.length > 0) includeMathJax();
    function includeMathJax() {
      var head = document.getElementsByTagName('head')[0];
      var script = document.createElement('script');
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
      script.type = 'text/javascript';
      script.async = 'async';
      head.appendChild(script)
    }</script> <script type="text/javascript" nonce="f06f99237d642aa2955bc4ad7fcfcfc9" src="/JY114ZI2w/G9wF/KMO6w/9EbiGtVLzwzmkSXODa/BUYyEwh-WAY/XBFmMCw/kV1wB"></script><link rel="stylesheet" type="text/css" nonce="f06f99237d642aa2955bc4ad7fcfcfc9" href="/JY114ZI2w/G9wF/KMO6w/LpbiJi/Oz4VEwh-WAY/NSRLeBE/mehtZ"><script nonce="f06f99237d642aa2955bc4ad7fcfcfc9" src="/JY114ZI2w/G9wF/KMO6w/LpbiJi/Oz4VEwh-WAY/KBt5cAh/PV0gp" async defer></script><div id="sec-overlay" style="display:none;"><div id="sec-container"></div></div></body></html>